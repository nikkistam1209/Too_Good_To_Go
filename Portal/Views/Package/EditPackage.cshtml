@using Core.Domain.Enumerations;
@model PackageModel

@{
    ViewData["Title"] = "Update Package";
}

<div class="container p-3 mb-3">
    <h3 class="dgreen-bg-color text-white text-center p-2">@ViewData["Title"]</h3>

    <form asp-action="EditPackage" asp-controller="Package" method="post">

        <div class="form-group mb-2">
            <label asp-for="Name">Package Name</label>
            <div><span asp-validation-for="Name" class="text-danger"></span></div>
            <input asp-for="Name" class="form-control" />
        </div>

        <div class="form-group mb-2">
            <label asp-for="SelectedProductIds">Select Indication of Products</label>
            <div>
                @foreach (var item in Model.AvailableProducts)
                {
                    int productValue;
                    if (int.TryParse(item.Value, out productValue))
                    {
                        List<int> selectedProductIds = Model.SelectedProductIds;

                        <div class="checkbox custom-control custom-checkbox">
                            <label class="custom-control-label">
                                <input type="checkbox" name="SelectedProductIds" value="@item.Value"
                                @(selectedProductIds.Contains(productValue) ? "checked" : "") /> @item.Text
                            </label>
                        </div>
                    }
                }
            </div>
        </div>

        <div class="form-group mb-2">
            <label asp-for="PickUpDate">Pick Up Date</label>
            <div><span asp-validation-for="PickUpDate" class="text-danger"></span></div>
            <input type="date" asp-for="PickUpDate" class="form-control" />
        </div>

        <div class="row">
            <div class="form-group mb-2 col">
                <label asp-for="PickUpTime">Pick Up From</label>
                <div><span asp-validation-for="PickUpTime" class="text-danger"></span></div>
                <input type="time" step="60" asp-for="PickUpTime" class="form-control" />
            </div>

            <div class="form-group mb-2 col">
                <label asp-for="ClosingTime">Pick Up Until</label>
                <div><span asp-validation-for="ClosingTime" class="text-danger"></span></div>
                <input type="time" step="60" asp-for="ClosingTime" class="form-control" />
            </div>
        </div>

        <div class="form-group mb-2">
            <label asp-for="Price">Price</label>
            <div><span asp-validation-for="Price" class="text-danger"></span></div>
            <input asp-for="Price" class="form-control" />
        </div>

        <div class="form-group mb-2">
            <label asp-for="Type">Package Type</label>
            <div><span asp-validation-for="Type" class="text-danger"></span></div>
            <select asp-for="Type" class="form-control" asp-items="Html.GetEnumSelectList<PackageEnum>()">
                <option selected disabled>Selecteer</option>
            </select>
        </div>

        <button type="submit" class="btn btn-green-color px-4 me-sm-3 text-white">Update</button>

    </form>
</div>
